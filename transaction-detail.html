<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TGCC Explorer - Transaction Detail</title>
    <meta name="description" content="" />
    <meta name="keywords" content="bitcoin, ethereum, monero, ico, token, free token, btc, eth" />
    <meta name="author" content="TGCC" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/favicon.png" />

    <!-- Bootstrap & Plugins CSS -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- Custom CSS -->
    <link href="assets/css/purple.css" rel="stylesheet" type="text/css">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <link rel="stylesheet" href="assets/css/public.css">

</head>

<body>

    <div class="loading-wrapper">
        <div class="loading">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <!-- ***** Header Area Start ***** -->
    <header class="header-area">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="main-nav">
                        <!-- ***** Logo Start ***** -->
                        <a href="index.html" class="logo">
                            <!-- <img src="assets/images/logos/transparent-logo-purple.svg" class="light-logo" alt="SGU CHAIN"/>
								<img src="assets/images/logos/white-logo-purple.svg" class="dark-logo" alt="SGU CHAIN"/> -->
                            <img src="assets/images//logos/logo.png" class="light-logo" alt="TGCC CHAIN" />
                            <img src="assets/images/logos/logo.png" class="dark-logo" alt="TGCC CHAIN" />
                        </a>
                        <!-- ***** Logo End ***** -->

                        <!-- ***** Lang Start ***** -->
                        <div class="lang">
                            <div class="selected">
                                <img src="assets/images/flags/china.png" alt="">
                                <i class="fa fa-angle-down"></i>
                            </div>
                            <!-- <select class="trans-en">
									<option value="简体中文">简体中文</option>
									<option value="English">English</option>
								</select> -->

                            <ul class="flag-list trans-en">
                                <li class="chinese-language">
                                    <a href="#">
                                        <img src="assets/images/flags/china.png" alt="">
                                        <span>简体中文</span>
                                    </a>
                                </li>
                                <li class="english-language">
                                    <a href="#">
                                        <img src="assets/images/flags/en.png" alt="">
                                        <span>English</span>
                                    </a>
                                </li>

                            </ul>

                        </div>
                        <!-- ***** Lang End ***** -->

                        <!-- ***** Menu Start ***** -->
                        <ul class="nav">
                            <li>
                                <a href="index.html">
                                    <span i18n="i18n.themselves">首页</span>
                                </a>
                            </li>
                            <li>
                                <a href="wallet-list.html">
                                    <span i18n="i18n.successful-case">钱包</span>
                                </a>
                            </li>
                            <li>
                                <a href="transaction-list.html">
                                    <span i18n="i18n.Intelligence-test">交易</span>
                                </a>
                            </li>
                            <li>
                                <a href="block-list.html">
                                    <span i18n="i18n.evaluation">区块</span>
                                </a>
                            </li>
                        </ul>

                        <a class='menu-trigger'>
                            <span>Menu</span>
                        </a>
                </div>
            </div>
        </div>
    </header>
    <!-- ***** Header Area End ***** -->

    <!-- ***** Wellcome Area Start ***** -->
    <section class="block-explorer-wrapper bg-bottom-center" id="welcome-1">
        <div class="block-explorer text">
            <div class="container text-center">
                <div class="row">
                    <div class="col-lg-12 align-self-center">
                        <h1 i18n="i18n.Block browser">区块浏览器</h1>
                    </div>
                    <div class="offset-lg-3 col-lg-6" id="offset-lg-33">
                        <div>
                            <p i18n="i18n.LatestBlockID">最新区块: </p><span style="padding-top: 2px;" class="latestBlockOfHead color-fff"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="search">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="input-wrapper">
                            <div class="input">
                                <input type="text" id="findContent" class="search-box" i18n="i18n.Please enter what you are looking for" placeholder="请输入您想查找的内容.">

                                <button class="search-btn"><i class="fa fa-search"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Wellcome Area End ***** -->




    <section class="block-explorer-features section pt-5 pb-0  mt-5">

    </section>

    <!-- 热门钱包 -->
    <section class="section bg-bottom">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="center-heading">
                        <p class="section-title" i18n="i18n.Intelligence-testID">交易详情</p>
                    </div>
                </div>
                <div class="m-auto">
                    <div class="center-text" style="display: flex;justify-content: center;">
                        <p id="transactionID">ID：--</p>
                        <button type="button" class="btn btn-secondary btn-small copy-button" id="transactionIDCopyBtn"> <span i18n="i18n.copy">复制</span></button>

                    </div>
                </div>
            </div>
            <!-- table Start -->
            <section class="block-explorer-section section p-0 m-0">
                <div class="container">

                    <div class="row">
                        <div class="col-lg-12">
                            <div class="">
                                <table class="table table-striped table-latests table-responsive-stack alert-warning">
                                    <!-- <thead>
                            <tr>
                                <td i18n="i18n.class">等级</td>
                                <td i18n="i18n.site">地址</td>
                                <td i18n="i18n.balance">余额</td>
                                <td i18n="i18n.publish">发行</td>
                                
                            </tr>
                        </thead> -->
                                    <!-- 列表渲染 -->
                                    <tbody class="tbody-style" id="transactionInfo">
                                        <tr>
                                            <td>发送者</td>
                                            <td>--</td>
                                        </tr>
                                        <tr>
                                            <td>接受者</td>
                                            <td>--</td>
                                        </tr>
                                        <tr>
                                            <td>数量</td>
                                            <td>--</td>
                                        </tr>
                                        <tr>
                                            <td>费用</td>
                                            <td>--</td>
                                        </tr>
                                        <tr>
                                            <td>区块ID</td>
                                            <td>--</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                    <!-- 翻页 -->
                    <div>

                    </div>

            </section>
            <!-- table End -->


            </div>
    </section>
    <!-- ***** Contact & Footer Start ***** -->
    <footer id="contact">
        <div class="footer-bottom slim">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <p class="copyright">2019 © by TGCC</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- ***** Contact & Footer End ***** -->


    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>
    <script src="./assets/js/jquery.i18n.properties.min.js"></script>
    <!-- dbData -->
    <script src="assets/js/dbData.js"></script>


    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/page.js"></script>

    <!-- Plugins -->
    <script src="assets/js/particles.min.js"></script>
    <script src="assets/js/scrollreveal.min.js"></script>
    <script src="assets/js/jquery.downCount.js"></script>
    <script src="assets/js/parallax.min.js"></script>

    <!-- Global Init -->
    <script src="assets/js/particle-purple.js"></script>
    <script src="assets/js/custom.js"></script>

    <!-- jquery.i18n.js -->

    <script src="assets/js/jquery.i18n.js"></script>
    <script src="assets/layui/layui.all.js"></script>

    <script src="assets/js/clipboard.min.js"></script>

    <script src="assets/js/app.js"></script>

    <script>
        //初始化数据+自动加载
        $(function() {
            //接受传过来的参数，并且拿到id，根据id，进行ajax获取这个详情信息
            // $(function(){
            //     getDataId();
            // });

            // function  getDataId(){
            // var address  = $.query.get("id");
            var transactionsIDID = localStorage.getItem("transactionsIDID");
            console.log(transactionsIDID);
            var BURL = 'http://124.70.148.13:4103/api/'
            var transactionsIDID = $.getUrlParam('id');
            console.log(transactionsIDID);

            if (transactionsIDID) {
                // }
                $.ajax({
                    type: "GET",
                    contentType: "application/json;charset=UTF-8",
                    url: BURL + `v2/transactions/${transactionsIDID}`,
                }).done(function(res) {
                    console.log(res.data);
                    console.log(res.data.sender)
                    let transactionID = res.data.id;
                    $("#transactionID").html("ID：" + transactionID);
                    $("#transactionIDCopyBtn").attr('aria-label', transactionID);

                    function p(s) {
                        return s < 10 ? '0' + s : s
                    }
                    var d = new Date(res.data.timestamp.human)
                    var datetime = d.getFullYear() + '-' + p((d.getMonth() + 1)) + '-' + p(d.getDate()) + ' ' + p(d.getHours()) + ':' + p(d.getMinutes()) + ':' + p(d.getSeconds());

                    var transactionInfo = "";
                    transactionInfo = `
                  <tr>
                    <td i18n="i18n.dispatcher">发送者</td>
                    <td>${getAddressUsername(res.data.sender,true)}</td>

                    </tr>
                    <tr>
                    <td i18n="i18n.receiver">接收者</td>
                    <td>${getAddressUsername(res.data.recipient,true)}</td>

                    </tr>
                    <tr>
                    <td i18n="i18n.amount">数量</td>
                    <td>${res.data.amount / Math.pow(10, 8).toFixed(2)}T</td>


                    </tr>
                    <tr>
                    <td  i18n="i18n.cost">费用</td>
                    <td>${res.data.fee / Math.pow(10, 8).toFixed(2)}T</td>


                    </tr>
                    <tr>
                    <td i18n="i18n.timestamp">时间戳</td>
                    <td>${datetime}</td>

                    </tr>
                    <tr>
                    <td i18n="i18n.BlockID">区块ID</td>
                    <td>${res.data.blockId}</td>
                    </tr>
                `

                    $("#transactionInfo").html(transactionInfo);

                    $.refreshLang();


                }).fail(err => {
                    console.log(err);
                })
            }

        });
    </script>
    <!--  -->
</body>

</html>